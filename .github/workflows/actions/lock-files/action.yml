name: Lockfile Checks
description: Ensure that lockfiles are up to date

inputs:
  files:
    description: "Space delimited list of lockfiles to check"
    required: true

runs:
  using: composite
  steps:
    - name: Verify lockfiles
      shell: bash
      run: |
        set -e

        echo "üîç Checking lockfiles: ${{ inputs.files }}"

        for file in ${{ inputs.files }}; do
          if [ ! -f "$file" ]; then
            echo "‚ö†Ô∏è  $file not found ‚Äî skipping"
            continue
          fi

          git diff --exit-code "$file" || {
            echo "‚ùå $file was modified but not committed."
            exit 1
          }
        done

        echo "‚úÖ All lockfiles are clean"

